<h2 style="color:black; font-family: sans-serif">Squiggle Generator</h2>
<p style="color:black; font-family: sans-serif">Count: <input id="count" value="5"></p>
<p style="color:black; font-family: sans-serif">Color:  
  <input id="r" placeholder="R" style="width:40px">
  <input id="g" placeholder="G" style="width:40px">
  <input id="b" placeholder="B"style="width:40px">
</p>
<button id="create" style="color:black; font-family: sans-serif">Create</button>
<button id="cancel" style="color:black; font-family: sans-serif">Cancel</button>
<script>

document.getElementById('create').onclick = () => {
  const textbox = document.getElementById('count');
  const redValue = document.getElementById('r');
  const greenValue = document.getElementById('g');
  const blueValue = document.getElementById('b');
  const count = parseInt(textbox.value, 10);
  const red = parseInt(redValue.value, 0);
  const green = parseInt(greenValue.value, 0);
  const blue  = parseInt(blueValue.value, 0);
  parent.postMessage({ pluginMessage: { type: 'create-rectangles', count } }, '*')
}

document.getElementById('cancel').onclick = () => {
  parent.postMessage({ pluginMessage: { type: 'cancel' } }, '*')
}

</script>
