<h2 style="color:black; font-family: sans-serif">Squiggle Generator</h2>
<p style="color:black; font-family: sans-serif">Count: <input id="count" value="5"></p>
<form>
  <label style="font-size:12px; font-family: sans-serif">Red</label>
  <input id="r" placeholder="255" value="0" style="width:40px;">
  <label style="font-size:12px; font-family: sans-serif">Green</label>
  <input id="g" placeholder="255" value="0" style="width:40px;">
  <label style="font-size:12px; font-family: sans-serif">Blue</label>
  <input id="b" placeholder="255" value="0" style="width:40px;">
</form>
<button id="create" style="color:black; font-family: sans-serif">Create</button>
<button id="cancel" style="color:black; font-family: sans-serif">Cancel</button>
<script>

document.getElementById('create').onclick = () => {
  const textbox = document.getElementById('count');
  const redInput = document.getElementById('r');
  const greenInput = document.getElementById('g');
  const blueInput = document.getElementById('b');
  const count = parseInt(textbox.value, 10);
  const red = parseInt(redInput.value, 10);
  const green = parseInt(greenInput.value, 10);
  const blue  = parseInt(blueInput.value, 10);
  parent.postMessage({ pluginMessage: { type: 'create-squiggles', count, red, green, blue } }, '*')
}

document.getElementById('cancel').onclick = () => {
  parent.postMessage({ pluginMessage: { type: 'cancel' } }, '*')
}

</script>
