<h3 style="color:black; font-family: sans-serif">Squiggle Generator</h3>
<p style="color:black; font-family: sans-serif; font-size:12px; width: 100%; display: block">Count: <input style="display: block; width: 100%;" id="count" value="5"></p>
<form>
  <label style="font-size:12px; font-family: sans-serif;display: block; margin-bottom: 6px;">Multiplier</label>
  <input id="multiplier" value="500" style="width:100%;display: block;margin-bottom: 16px;">
  <label style="font-size:12px; font-family: sans-serif; display: inline-block;margin-left:0px;">R</label>
  <input id="r" placeholder="255" value="0" style="width:26%;display: inline-block">
  <label style="font-size:12px; font-family: sans-serif; display: inline-block;margin-left:8px;">G</label>
  <input id="g" placeholder="255" value="0" style="width:26%;display: inline-block">
  <label style="font-size:12px; font-family: sans-serif;display: inline-block;margin-left:8px;">B</label>
  <input id="b" placeholder="255" value="0" style="width:26%;display: inline-block">
</form>
<button id="create" style="color:black; font-family: sans-serif">Create</button>
<button id="cancel" style="color:black; font-family: sans-serif">Cancel</button>
<script>


document.getElementById('create').onclick = () => {
  const textbox = document.getElementById('count');
  const multi = document.getElementById('multiplier');
  const redInput = document.getElementById('r');
  const greenInput = document.getElementById('g');
  const blueInput = document.getElementById('b');
  const count = parseInt(textbox.value, 10);
  const mult = parseInt(multi.value, 500);
  const red = parseInt(redInput.value, 10);
  const green = parseInt(greenInput.value, 10);
  const blue  = parseInt(blueInput.value, 10);
  parent.postMessage({ pluginMessage: { type: 'create-squiggles', count, mult, red, green, blue} }, '*')
}

document.getElementById('cancel').onclick = () => {
  parent.postMessage({ pluginMessage: { type: 'cancel' } }, '*')
}

</script>
